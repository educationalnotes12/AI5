class Node:
    def __init__(self,roll,name,marks):
        self.roll=roll
        self.name=name
        self.marks=marks
        self.next=None

class StudentList:
    def __init__(self):
        self.head=None

    def add(self,roll,name,marks):
        n=Node(roll,name,marks)
        if not self.head:
            self.head=n
        else:
            t=self.head
            while t.next:
                t=t.next
            t.next=n

    def delete(self,roll):
        t=self.head
        if not t:
            return
        if t.roll==roll:
            self.head=t.next
            return
        while t.next:
            if t.next.roll==roll:
                t.next=t.next.next
                return
            t=t.next

    def update(self,roll,name,marks):
        t=self.head
        while t:
            if t.roll==roll:
                t.name=name
                t.marks=marks
                return
            t=t.next

    def search(self,roll):
        t=self.head
        while t:
            if t.roll==roll:
                print(t.roll,t.name,t.marks)
                return
            t=t.next
        print("Record not found")

    def display(self):
        t=self.head
        while t:
            print(t.roll,t.name,t.marks)
            t=t.next

    def sort(self,key):
        l=[]
        t=self.head
        while t:
            l.append((t.roll,t.name,t.marks))
            t=t.next
        if key=="roll":
            l.sort(key=lambda x:x[0])
        else:
            l.sort(key=lambda x:x[2])
        for i in l:
            print(i[0],i[1],i[2])

s=StudentList()
while True:
    print("\n1.Add 2.Delete 3.Update 4.Search 5.Display 6.Sort by Roll 7.Sort by Marks 8.Exit")
    ch=int(input())
    if ch==1:
        r=int(input("Roll: "))
        n=input("Name: ")
        m=float(input("Marks: "))
        s.add(r,n,m)
    elif ch==2:
        s.delete(int(input("Enter Roll: ")))
    elif ch==3:
        r=int(input("Roll: "))
        n=input("Name: ")
        m=float(input("Marks: "))
        s.update(r,n,m)
    elif ch==4:
        s.search(int(input("Enter Roll: ")))
    elif ch==5:
        s.display()
    elif ch==6:
        s.sort("roll")
    elif ch==7:
        s.sort("marks")
    elif ch==8:
        break
